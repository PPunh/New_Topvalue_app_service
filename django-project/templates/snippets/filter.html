<form class="w3-container w3-padding w3-margin-top" method="get" action="{{ form_action }}">
    <div class="w3-row w3-card w3-round w3-white w3-padding-small w3-border">

        <!-- Search Input -->
        <div class="w3-col s12 m4 w3-padding-small">
            <input type="text" name="search" value="{{ request.GET.search }}"
                   class="w3-input w3-border w3-round"
                   placeholder="{{ search_placeholder|default:'Search...' }}">
        </div>

        <!-- Status Dropdown -->
        {% if status_options %}
        <div class="w3-col s12 m3 w3-padding-small">
            <select name="status" class="w3-select w3-border w3-round" onchange="this.form.submit()">
                <option value="">-- {{ status_label|default:'Select Status' }} --</option>
                {% for val, text in status_options %}
                    <option value="{{ val }}" {% if request.GET.status == val %}selected{% endif %}>{{ text }}</option>
                {% endfor %}
            </select>
        </div>
        {% endif %}

        <!-- Date Range Filter -->
        {% if show_date %}
        <div class="w3-col s12 m2 w3-padding-small">
            <input type="date" name="start_date" value="{{ request.GET.start_date |date:"d-m-Y" }}" 
                   class="w3-input w3-border w3-round" placeholder="ວັນທີ່ເລີ່ມ">
        </div>
        <div class="w3-col s12 m2 w3-padding-small">
            <input type="date" name="end_date" value="{{ request.GET.end_date |date:"d-m-Y" }}" 
                   class="w3-input w3-border w3-round" placeholder="ວັນທີ່ສິ້ນສຸດ">
        </div>
        {% endif %}

        <!-- Submit Button -->
        <div class="w3-col s12 m1 w3-padding-small">
            <button type="submit" class="w3-button w3-blue w3-round w3-block w3-hover-green">
                <i class="fa fa-search"></i> ຄົ້ນຫາ
            </button>
        </div>

    </div>
</form>
